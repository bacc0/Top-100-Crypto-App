{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Component}from'react';import Table from'./components/Table';import Pagination from'./components/Pagination';import{helperPaginate}from'./helpers/helperPaginate';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={coins:[],loading:true,currentPage:1,coinsPerPage:12};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;if(this.state.loading||!this.state.coins){return React.createElement(\"div\",{className:\"loading\"});}else{var _helperPaginate=helperPaginate(this.state.coins,this.state.currentPage,this.state.coinsPerPage),currentCoins=_helperPaginate.currentCoins,pageNumbers=_helperPaginate.pageNumbers;var paginate=function paginate(pageNumber){return _this2.setState({currentPage:pageNumber});};return React.createElement(\"div\",{className:\"wrap\"},React.createElement(\"div\",{className:\"\"},\" TOP \",React.createElement(\"strong\",null,\"99\"),\" CRYPTO-CURRENCIES \"),React.createElement(\"div\",{className:\"table\"},React.createElement(Table,{input:currentCoins})),React.createElement(\"span\",{className:\"paginationWrap\"},React.createElement(Pagination,{pageNumbers:pageNumbers,paginate:paginate,currentPage:this.state.currentPage})));}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;this.update();setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this3.update();case 1:case\"end\":return _context.stop();}}},_callee);})),60000);}},{key:\"update\",value:function(){var _update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,response,dataJSON;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"/instruments\";_context2.prev=1;_context2.next=4;return fetch(url,{cache:\"no-store\"});case 4:response=_context2.sent;// fetch(url)\nconsole.log(response.status);_context2.next=8;return response.json();case 8:dataJSON=_context2.sent;this.setState({coins:dataJSON,loading:false});// this.setState(prevState => ({\n// \tcoins: dataJSON,\n// \tloading: false\n// }));\n_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,this,[[1,12]]);}));function update(){return _update.apply(this,arguments);}return update;}()}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/bacco/Desktop/App-Top-100-Crypto/Top-100-Crypto-App-React.js/src/App.js"],"names":["React","Component","Table","Pagination","helperPaginate","App","state","coins","loading","currentPage","coinsPerPage","currentCoins","pageNumbers","paginate","pageNumber","setState","update","setInterval","url","fetch","cache","response","console","log","status","json","dataJSON"],"mappings":"qiCAAA,MAAOA,CAAAA,KAAP,KAA+B,OAA/B,CACA,OAASC,SAAT,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAA+B,oBAA/B,CACA,MAAOC,CAAAA,UAAP,KAA+B,yBAA/B,CACA,OAASC,cAAT,KAA+B,0BAA/B,C,GAGqBC,CAAAA,G,mXAEpBC,K,CAAQ,CACPC,KAAK,CAAU,EADR,CAEPC,OAAO,CAAQ,IAFR,CAGPC,WAAW,CAAI,CAHR,CAIPC,YAAY,CAAG,EAJR,C,sEAOC,iBAER,GAAI,KAAKJ,KAAL,CAAWE,OAAX,EAAsB,CAAC,KAAKF,KAAL,CAAWC,KAAtC,CAA6C,CAE5C,MAAO,4BAAK,SAAS,CAAC,SAAf,EAAP,CAEA,CAJD,IAIO,qBAEkCH,cAAc,CAC7C,KAAKE,KAAL,CAAWC,KADkC,CAE7C,KAAKD,KAAL,CAAWG,WAFkC,CAG7C,KAAKH,KAAL,CAAWI,YAHkC,CAFhD,CAEGC,YAFH,iBAEGA,YAFH,CAEiBC,WAFjB,iBAEiBA,WAFjB,CAON,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAEC,UAAF,QAEhB,CAAA,MAAI,CAACC,QAAL,CAAc,CACbN,WAAW,CAAEK,UADA,CAAd,CAFgB,EAAjB,CAMA,MAEC,4BAAK,SAAS,CAAC,MAAf,EAEC,2BAAK,SAAS,CAAC,EAAf,UAAuB,uCAAvB,uBAFD,CAIC,2BAAK,SAAS,CAAC,OAAf,EAEC,oBAAE,KAAF,EAAS,KAAK,CAAKH,YAAnB,EAFD,CAJD,CAUC,4BAAM,SAAS,CAAC,gBAAhB,EAEC,oBAAE,UAAF,EAAc,WAAW,CAAKC,WAA9B,CACM,QAAQ,CAAQC,QADtB,CAEM,WAAW,CAAK,KAAKP,KAAL,CAAWG,WAFjC,EAFD,CAVD,CAFD,CAqBQ,CACT,C,6DAGuB,iBAEvB,KAAKO,MAAL,GAEAC,WAAW,sEAAC,mIAEV,MAAI,CAACD,MAAL,GAFU,sDAAD,GAIR,KAJQ,CAAX,CAKA,C,uQAKME,G,CAAM,c,yCAIYC,CAAAA,KAAK,CAACD,GAAD,CAAM,CAAEE,KAAK,CAAE,UAAT,CAAN,C,QAAtBC,Q,gBAAoD;AAC1DC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,MAArB,E,uBACuBH,CAAAA,QAAQ,CAACI,IAAT,E,QAAjBC,Q,gBAEN,KAAKX,QAAL,CAAc,CACbR,KAAK,CAAEmB,QADM,CAEblB,OAAO,CAAE,KAFI,CAAd,EAKA;AACA;AACA;AACA;qFAIAc,OAAO,CAACC,GAAR,e,oKAvF8BtB,S,SAAZI,G","sourcesContent":["import React              from 'react';\nimport { Component }      from 'react';\nimport Table              from './components/Table';\nimport Pagination         from './components/Pagination';\nimport { helperPaginate } from './helpers/helperPaginate'\n\n\nexport default class App extends Component{\n     \n\tstate = {\n\t\tcoins        : [],\n\t\tloading      : true,\n\t\tcurrentPage  : 1,\n\t\tcoinsPerPage : 12\n\t}\n\n\trender() {\n\n\t\tif (this.state.loading || !this.state.coins) {\n\n\t\t\treturn <div className='loading'></div>\n\t\t\t\n\t\t} else {\n\n\t\t\tconst  { currentCoins, pageNumbers } =  helperPaginate(\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.coins,\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.currentPage,\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.coinsPerPage\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\tconst paginate = ( pageNumber ) => \n\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tcurrentPage: pageNumber\n\t\t\t})\n\n\t\t\treturn (\n\n\t\t\t\t<div className='wrap'>\n\n\t\t\t\t\t<div className=''> TOP <strong>99</strong> CRYPTO-CURRENCIES </div>\n\n\t\t\t\t\t<div className='table'>\n\n\t\t\t\t\t\t< Table  input = { currentCoins }/>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<span className='paginationWrap'>\n\n\t\t\t\t\t\t< Pagination  pageNumbers = { pageNumbers }  \n\t\t\t\t\t\t\t\t    paginate    = { paginate } \n\t\t\t\t\t\t\t\t    currentPage = { this.state.currentPage }/>\n\t\t\t\t\t</span>\n\t\t\t\t\t\n\t\t\t\t</div>\t\n\t\t\t)\n          }    \n\t}\n\n\t\n     componentDidMount() {\n\t\t\n\t\tthis.update()\n\n\t\tsetInterval(async () => {\n\n\t\t\t this.update()\n\t\t\t \n\t\t}, 60000);\n\t}\n\n\n\n\tasync  update() {\n\t\tconst url = \"/instruments\";\n\n\t\ttry {\n\n\t\t\tconst response = await fetch(url, { cache: \"no-store\" }); // fetch(url)\n\t\t\tconsole.log(response.status);\n\t\t\tconst dataJSON = await response.json();\n\n\t\t\tthis.setState({\n\t\t\t\tcoins: dataJSON,\n\t\t\t\tloading: false\n\t\t\t});\n\n\t\t\t// this.setState(prevState => ({\n\t\t\t// \tcoins: dataJSON,\n\t\t\t// \tloading: false\n\t\t\t// }));\n\t\t\t\n\t\t} catch (error) {\n\n\t\t\tconsole.log(error)\n\t\t}\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}